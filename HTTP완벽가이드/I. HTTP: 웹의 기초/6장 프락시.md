# 6Ïû•. ÌîÑÎùΩÏãú

## 6.1 Ïõπ Ï§ëÍ∞úÏûê

### ÌîÑÎùΩÏãúÏùò Ï†ïÏùò
ÌîÑÎùΩÏãúÎäî ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ÏôÄ ÏÑúÎ≤Ñ ÏÇ¨Ïù¥Ïóê ÏúÑÏπòÌïòÏó¨ HTTP Î©îÏãúÏßÄÎ•º Ï§ëÍ≥ÑÌïòÎäî Ï§ëÍ∞úÏûê Ïó≠Ìï†ÏùÑ ÏàòÌñâÌïòÎäî ÏÑúÎ≤Ñ

### ÌîÑÎùΩÏãúÏùò Í∏∞Î≥∏ ÎèôÏûë
1. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Î°úÎ∂ÄÌÑ∞ ÏöîÏ≤≠ÏùÑ Î∞õÏùå
2. ÏöîÏ≤≠ÏùÑ ÏÑúÎ≤ÑÎ°ú Ï†ÑÎã¨
3. ÏÑúÎ≤ÑÎ°úÎ∂ÄÌÑ∞ ÏùëÎãµÏùÑ Î∞õÏùå
4. ÏùëÎãµÏùÑ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ÏóêÍ≤å Ï†ÑÎã¨

### ÌîÑÎùΩÏãú vs Í≤åÏù¥Ìä∏Ïõ®Ïù¥
- **ÌîÑÎùΩÏãú**: Í∞ôÏùÄ ÌîÑÎ°úÌÜ†ÏΩú ÏÇ¨Ïö© (HTTP ‚Üî HTTP)
- **Í≤åÏù¥Ìä∏Ïõ®Ïù¥**: Îã§Î•∏ ÌîÑÎ°úÌÜ†ÏΩú Í∞Ñ Î≥ÄÌôò (HTTP ‚Üî FTP, HTTP ‚Üî SMTP)

### Í∞úÏù∏ ÌîÑÎùΩÏãúÏôÄ Í≥µÏú† ÌîÑÎùΩÏãú
- **Í∞úÏù∏ ÌîÑÎùΩÏãú**: ÌïòÎÇòÏùò ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Îßå ÏÇ¨Ïö©
- **Í≥µÏú† ÌîÑÎùΩÏãú**: Ïó¨Îü¨ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä Í≥µÏú†
  - Ï∫êÏãú Ìö®Ïú®ÏÑ± Ï¶ùÍ∞Ä
  - Í¥ÄÎ¶¨ ÏßëÏ§ëÌôî
  - ÎπÑÏö© Ï†àÍ∞ê

## 6.2 Ïôú ÌîÑÎùΩÏãúÎ•º ÏÇ¨Ïö©ÌïòÎäîÍ∞Ä?

ÌîÑÎùΩÏãúÎäî Î≥¥Ïïà, ÏÑ±Îä•, ÎπÑÏö© Ï†àÍ∞ê Îì± Îã§ÏñëÌïú Ïù¥Ï†êÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.

### Ïñ¥Î¶∞Ïù¥ ÌïÑÌÑ∞
ÌïôÍµêÎÇò Í∞ÄÏ†ïÏóêÏÑú Î∂ÄÏ†ÅÏ†àÌïú ÏΩòÌÖêÏ∏† Ï∞®Îã®
- ÏÑ±Ïù∏ ÏΩòÌÖêÏ∏† ÌïÑÌÑ∞ÎßÅ
- ÍµêÏú° Î™©Ï†ÅÏóê ÎßûÎäî ÏÇ¨Ïù¥Ìä∏Îßå ÌóàÏö©
- Î∏îÎûôÎ¶¨Ïä§Ìä∏/ÌôîÏù¥Ìä∏Î¶¨Ïä§Ìä∏ Í¥ÄÎ¶¨

### Î¨∏ÏÑú Ï†ëÍ∑º Ï†úÏñ¥Ïûê
Í∏∞ÏóÖ ÌôòÍ≤ΩÏóêÏÑú Î¨∏ÏÑú Ï†ëÍ∑º Ï†úÏñ¥
- ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ù
- Í∂åÌïúÎ≥Ñ Ï†ëÍ∑º Ï†úÌïú
- Ï§ëÏöî Ï†ïÎ≥¥ Ïú†Ï∂ú Î∞©ÏßÄ
- Ï†ëÍ∑º Î°úÍ∑∏ Í∏∞Î°ù

### Î≥¥Ïïà Î∞©ÌôîÎ≤Ω
ÎÑ§Ìä∏ÏõåÌÅ¨ Î≥¥Ïïà Í∞ïÌôî
- ÏïÖÏùòÏ†ÅÏù∏ ÏΩòÌÖêÏ∏† Ï∞®Îã®
- Î∞îÏù¥Îü¨Ïä§/Îß¨Ïõ®Ïñ¥ Ïä§Ï∫î
- ÏùëÏö© Î†àÎ≤® ÌîÑÎ°úÌÜ†ÏΩú Ï†úÏñ¥
- DMZ Íµ¨ÏÑ±Ïùò ÌïµÏã¨ ÏöîÏÜå

### Ïõπ Ï∫êÏãú
ÏûêÏ£º ÏöîÏ≤≠ÎêòÎäî ÏΩòÌÖêÏ∏†Î•º Î°úÏª¨Ïóê Ï†ÄÏû•
- **ÏÑ±Îä• Ìñ•ÏÉÅ**: ÏùëÎãµ ÏãúÍ∞Ñ Îã®Ï∂ï
- **ÎåÄÏó≠Ìè≠ Ï†àÏïΩ**: ÎÑ§Ìä∏ÏõåÌÅ¨ Ìä∏ÎûòÌîΩ Í∞êÏÜå
- **ÏÑúÎ≤Ñ Î∂ÄÌïò Í∞êÏÜå**: Ïõê ÏÑúÎ≤Ñ ÏöîÏ≤≠ ÏµúÏÜåÌôî
- **Í∞ÄÏö©ÏÑ± Ìñ•ÏÉÅ**: Ïõê ÏÑúÎ≤Ñ Ïû•Ïï† ÏãúÏóêÎèÑ Ï∫êÏãúÎêú ÏΩòÌÖêÏ∏† Ï†úÍ≥µ

Ï∫êÏãú ÎèôÏûë ÏõêÎ¶¨:
```
1. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏöîÏ≤≠ ‚Üí ÌîÑÎùΩÏãú Ï∫êÏãú ÌôïÏù∏
2. Ï∫êÏãú ÌûàÌä∏: Ï†ÄÏû•Îêú ÏÇ¨Î≥∏ Î∞òÌôò
3. Ï∫êÏãú ÎØ∏Ïä§: Ïõê ÏÑúÎ≤ÑÏóê ÏöîÏ≤≠ ‚Üí ÏùëÎãµ Ï∫êÏã± ‚Üí ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Ïóê Ï†ÑÎã¨
```

### ÎåÄÎ¶¨ ÌîÑÎùΩÏãú (Î¶¨Î≤ÑÏä§ ÌîÑÎùΩÏãú)
ÏÑúÎ≤Ñ Ï∏°ÏóêÏÑú ÎèôÏûëÌïòÎäî ÌîÑÎùΩÏãú:
- Ïã§Ï†ú ÏÑúÎ≤Ñ ÏúÑÏπò ÏùÄÎãâ
- Î°úÎìú Î∞∏Îü∞Ïã±
- ÏÑúÎ≤Ñ Í∞ÄÏÜç
- SSL Ï¢ÖÎ£å
- ÏΩòÌÖêÏ∏† ÏïïÏ∂ï

### ÏΩòÌÖêÏ∏† ÎùºÏö∞ÌÑ∞
ÏöîÏ≤≠ÏùÑ Ï†ÅÏ†àÌïú ÏÑúÎ≤ÑÎ°ú Î∂ÑÎ∞∞:
- ÏÇ¨Ïö©Ïûê ÏúÑÏπò Í∏∞Î∞ò ÎùºÏö∞ÌåÖ
- ÏΩòÌÖêÏ∏† Ïú†ÌòïÎ≥Ñ ÏÑúÎ≤Ñ ÏÑ†ÌÉù
- Î∂ÄÌïò Î∂ÑÏÇ∞
- Ïû•Ïï† ÎåÄÏùë (Failover)

### Ìä∏ÎûúÏä§ÏΩîÎçî
ÏΩòÌÖêÏ∏† ÌòïÏãù Î≥ÄÌôò:
- Ïù¥ÎØ∏ÏßÄ Ìè¨Îß∑ Î≥ÄÌôò (GIF ‚Üí JPG)
- Ïù¥ÎØ∏ÏßÄ Ìï¥ÏÉÅÎèÑ Ï°∞Ï†ï
- ÌÖçÏä§Ìä∏ ÌòïÏãù Î≥ÄÌôò
- Ïñ∏Ïñ¥ Î≤àÏó≠
- Î™®Î∞îÏùº ÏµúÏ†ÅÌôî

### ÏùµÎ™ÖÌôî ÌîÑÎùΩÏãú
ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Î≥¥Ìò∏:
- IP Ï£ºÏÜå Ïà®ÍπÄ
- User-Agent Î≥ÄÍ≤Ω
- Referer Ìó§Îçî Ï†úÍ±∞
- Ïø†ÌÇ§ ÌïÑÌÑ∞ÎßÅ
- Í∞úÏù∏Ï†ïÎ≥¥ Ï†úÍ±∞

ÏùµÎ™ÖÌôî ÏàòÏ§Ä:
1. **Ìà¨Î™Ö**: ÌîÑÎùΩÏãú ÏÇ¨Ïö© ÏÇ¨Ïã§ ÎÖ∏Ï∂ú
2. **ÏùµÎ™Ö**: ÌîÑÎùΩÏãúÏûÑÏùÄ ÏïåÏßÄÎßå Ïã§Ï†ú IP Ïà®ÍπÄ
3. **Í≥†ÎèÑ ÏùµÎ™Ö**: ÌîÑÎùΩÏãú ÏÇ¨Ïö© ÏûêÏ≤¥Î•º Ïà®ÍπÄ

## 6.3 ÌîÑÎùΩÏãúÎäî Ïñ¥ÎîîÏóê ÏûàÎäîÍ∞Ä?

### ÌîÑÎùΩÏãú ÏÑúÎ≤Ñ Î∞∞Ïπò

#### Ï∂úÍµ¨(Egress) ÌîÑÎùΩÏãú
- Î°úÏª¨ ÎÑ§Ìä∏ÏõåÌÅ¨ÏôÄ Ïù∏ÌÑ∞ÎÑ∑ Í≤ΩÍ≥ÑÏóê ÏúÑÏπò
- Î∞©ÌôîÎ≤Ω Ïó≠Ìï† ÏàòÌñâ
- Í∏∞ÏóÖ/ÌïôÍµê ÎÑ§Ìä∏ÏõåÌÅ¨Ïùò ÌëúÏ§Ä Íµ¨ÏÑ±

#### Ï†ëÍ∑º(ÏûÖÍµ¨) ÌîÑÎùΩÏãú
- ISP Ï†ëÍ∑º ÏßÄÏ†êÏóê ÏúÑÏπò
- Îã§Ïö¥Î°úÎìú ÏÜçÎèÑ Í∞úÏÑ†
- Ïù∏ÌÑ∞ÎÑ∑ ÎåÄÏó≠Ìè≠ ÎπÑÏö© Ï†àÍ∞ê

#### ÎåÄÎ¶¨(Î¶¨Î≤ÑÏä§) ÌîÑÎùΩÏãú
- Ïõπ ÏÑúÎ≤Ñ ÏïûÏóê ÏúÑÏπò
- ÏÑúÎ≤Ñ Ïù∏ÌîÑÎùº Î≥¥Ìò∏
- Ïõπ ÏÑúÎ≤Ñ ÏÑ±Îä• Ìñ•ÏÉÅ

#### ÎÑ§Ìä∏ÏõåÌÅ¨ ÍµêÌôò ÌîÑÎùΩÏãú
- ÎÑ§Ìä∏ÏõåÌÅ¨ ÌîºÏñ¥ÎßÅ ÏßÄÏ†êÏóê ÏúÑÏπò
- Ï∫êÏãúÎ•º ÌÜµÌïú Ïù∏ÌÑ∞ÎÑ∑ ÍµêÌôò Ìä∏ÎûòÌîΩ Ï†àÍ∞ê

### ÌîÑÎùΩÏãú Í≥ÑÏ∏µ
Ïó¨Îü¨ ÌîÑÎùΩÏãúÍ∞Ä Ïó∞ÏáÑÏ†ÅÏúºÎ°ú Ïó∞Í≤∞Îêú Íµ¨Ï°∞:

```
ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ‚Üí ÌîÑÎùΩÏãú1 ‚Üí ÌîÑÎùΩÏãú2 ‚Üí ÌîÑÎùΩÏãú3 ‚Üí Ïõê ÏÑúÎ≤Ñ
```

#### ÌîÑÎùΩÏãú Í≥ÑÏ∏µ Íµ¨ÏÑ±
- **Î∂ÄÎ™®(Parent)**: Îã§Ïùå ÌôâÏùò ÌîÑÎùΩÏãú
- **ÏûêÏãù(Child)**: Ïù¥Ï†Ñ ÌôâÏùò ÌîÑÎùΩÏãú
- **ÌòïÏ†ú(Sibling)**: Í∞ôÏùÄ Í≥ÑÏ∏µÏùò Îã§Î•∏ ÌîÑÎùΩÏãú

### ÌîÑÎùΩÏãú Í≥ÑÏ∏µ ÎùºÏö∞ÌåÖ
ÎèôÏ†ÅÏúºÎ°ú ÌîÑÎùΩÏãú Í≤ΩÎ°úÎ•º ÏÑ†ÌÉù:

#### Î∂ÄÌïò Í∑†Ìòï
- Round-robin
- ÏµúÏÜå Ïó∞Í≤∞
- ÏùëÎãµ ÏãúÍ∞Ñ Í∏∞Î∞ò

#### ÏßÄÎ¶¨Ï†Å Ïù∏Ï†ëÏÑ± ÎùºÏö∞ÌåÖ
- Í∞ÄÏû• Í∞ÄÍπåÏö¥ ÌîÑÎùΩÏãú ÏÑ†ÌÉù
- ÎÑ§Ìä∏ÏõåÌÅ¨ ÏßÄÏó∞ ÏµúÏÜåÌôî

#### ÌîÑÎ°úÌÜ†ÏΩú/ÌÉÄÏûÖ ÎùºÏö∞ÌåÖ
- HTTP/HTTPS Î∂ÑÎ¶¨
- Ïù¥ÎØ∏ÏßÄ/ÎèôÏòÅÏÉÅ Ï†ÑÏö© ÌîÑÎùΩÏãú

#### Ïú†Î£å ÏÑúÎπÑÏä§ Í∞ÄÏûÖÏûêÎ•º ÏúÑÌïú ÎùºÏö∞ÌåÖ
- ÌîÑÎ¶¨ÎØ∏ÏóÑ ÏÇ¨Ïö©Ïûê Ï†ÑÏö© Í≥†ÏÜç ÌîÑÎùΩÏãú
- ÏùºÎ∞ò ÏÇ¨Ïö©ÏûêÏôÄ Í≤ΩÎ°ú Î∂ÑÎ¶¨

### Ïñ¥ÎñªÍ≤å ÌîÑÎùΩÏãúÍ∞Ä Ìä∏ÎûòÌîΩÏùÑ Ï≤òÎ¶¨ÌïòÎäîÍ∞Ä

#### ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏàòÏ†ï
- Î∏åÎùºÏö∞Ï†Ä ÌîÑÎùΩÏãú ÏÑ§Ï†ï
- ÏàòÎèô Íµ¨ÏÑ± ÌïÑÏöî

#### ÎÑ§Ìä∏ÏõåÌÅ¨ ÏàòÏ†ï
- Ïù∏ÌÑ∞ÏÖâÌä∏ ÌîÑÎùΩÏãú (Ìà¨Î™Ö ÌîÑÎùΩÏãú)
- ÎùºÏö∞ÌÑ∞/Ïä§ÏúÑÏπò Î†àÎ≤®ÏóêÏÑú Î¶¨Îã§Ïù¥Î†âÏÖò
- ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÑ§Ï†ï Î∂àÌïÑÏöî

#### DNS ÏàòÏ†ï
- DNS ÏùëÎãµ Ï°∞Ïûë
- ÌîÑÎùΩÏãú IP Î∞òÌôò

#### Ïõπ ÏÑúÎ≤Ñ ÏàòÏ†ï
- HTTP Î¶¨Îã§Ïù¥Î†âÏÖò (305 Use Proxy)
- ÏÑúÎ≤ÑÏóêÏÑú ÌîÑÎùΩÏãú Í≤ΩÎ°ú ÏßÄÏ†ï

## 6.4 ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÌîÑÎùΩÏãú ÏÑ§Ï†ï

### ÏàòÎèô ÏÑ§Ï†ï
Î∏åÎùºÏö∞Ï†Ä ÏÑ§Ï†ïÏóêÏÑú ÏßÅÏ†ë ÌîÑÎùΩÏãú Ï†ïÎ≥¥ ÏûÖÎ†•:
- ÌîÑÎùΩÏãú ÏÑúÎ≤Ñ Ï£ºÏÜå
- Ìè¨Ìä∏ Î≤àÌò∏
- ÌîÑÎ°úÌÜ†ÏΩúÎ≥Ñ ÏÑ§Ï†ï (HTTP, HTTPS, FTP)
- ÏòàÏô∏ Î™©Î°ù (ÌîÑÎùΩÏãúÎ•º Í±∞ÏπòÏßÄ ÏïäÏùÑ Ï£ºÏÜå)

### Î∏åÎùºÏö∞Ï†Ä Í∏∞Î≥∏ ÏÑ§Ï†ï
ÎßéÏùÄ Î∏åÎùºÏö∞Ï†ÄÍ∞Ä ÌîÑÎùΩÏãú ÏûêÎèô Í∞êÏßÄ Í∏∞Îä• Ï†úÍ≥µ
- ÏÇ¨Ï†Ñ ÏÑ§Ï†ïÎêú ÌîÑÎùΩÏãú ÏÇ¨Ïö©
- Ï†úÏ°∞ÏÇ¨/ISP Ï†úÍ≥µ ÌîÑÎùΩÏãú

### ÌîÑÎùΩÏãú ÏûêÎèô ÏÑ§Ï†ï (PAC)
JavaScriptÎ°ú ÏûëÏÑ±Îêú PAC ÌååÏùº ÏÇ¨Ïö©

```javascript
function FindProxyForURL(url, host) {
    // Î°úÏª¨ Ï£ºÏÜåÎäî ÏßÅÏ†ë Ïó∞Í≤∞
    if (isPlainHostName(host) ||
        dnsDomainIs(host, ".local.com")) {
        return "DIRECT";
    }
    
    // ÌäπÏ†ï ÎèÑÎ©îÏù∏ÏùÄ ÌäπÏ†ï ÌîÑÎùΩÏãú ÏÇ¨Ïö©
    if (dnsDomainIs(host, ".example.com")) {
        return "PROXY proxy1.company.com:8080";
    }
    
    // Í∏∞Î≥∏ ÌîÑÎùΩÏãú
    return "PROXY proxy.company.com:8080; DIRECT";
}
```

PAC ÌååÏùº Î∞òÌôò Í∞í:
- `DIRECT`: ÌîÑÎùΩÏãú ÏóÜÏù¥ ÏßÅÏ†ë Ïó∞Í≤∞
- `PROXY host:port`: ÏßÄÏ†ïÎêú ÌîÑÎùΩÏãú ÏÇ¨Ïö©
- `SOCKS host:port`: SOCKS ÌîÑÎùΩÏãú ÏÇ¨Ïö©

### WPAD ÌîÑÎùΩÏãú Î∞úÍ≤¨
Web Proxy Auto-Discovery Protocol:

1. **DHCPÎ•º Ïù¥Ïö©Ìïú WPAD**
   - DHCP ÏÑúÎ≤ÑÏóêÏÑú PAC ÌååÏùº URL Ï†úÍ≥µ
   - DHCP ÏòµÏÖò 252 ÏÇ¨Ïö©

2. **DNSÎ•º Ïù¥Ïö©Ìïú WPAD**
   - wpad.domain.com Ï°∞Ìöå
   - PAC ÌååÏùº ÏúÑÏπò ÏûêÎèô Í≤ÄÏÉâ

3. **DNS A Î†àÏΩîÎìú Î£©ÏóÖ**
   - WPAD Ìò∏Ïä§Ìä∏ IP ÏßÅÏ†ë Ï°∞Ìöå

4. **PAC ÌååÏùº Í∞ÄÏ†∏Ïò§Í∏∞**
   ```
   http://wpad.domain.com/wpad.dat
   ```

## 6.5 ÌîÑÎùΩÏãú ÏöîÏ≤≠Ïùò ÎØ∏Î¨òÌïú ÌäπÏßïÎì§

### ÌîÑÎùΩÏãú URIÏôÄ ÏÑúÎ≤Ñ URIÏùò Ï∞®Ïù¥

#### ÏùºÎ∞ò ÏÑúÎ≤Ñ ÏöîÏ≤≠:
```http
GET /index.html HTTP/1.1
Host: www.example.com
```

#### ÌîÑÎùΩÏãú ÏöîÏ≤≠:
```http
GET http://www.example.com/index.html HTTP/1.1
Host: www.example.com
```

ÌîÑÎùΩÏãúÎäî Î™©Ï†ÅÏßÄ ÏÑúÎ≤Ñ Ï†ïÎ≥¥Í∞Ä ÌïÑÏöîÌïòÎØÄÎ°ú ÏôÑÏ†ÑÌïú URIÎ•º ÏöîÍµ¨

### Í∞ÄÏÉÅ Ìò∏Ïä§ÌåÖÍ≥º ÌîÑÎùΩÏãú
Í∞ÄÏÉÅ Ìò∏Ïä§ÌåÖ ÌôòÍ≤ΩÏóêÏÑú ÌîÑÎùΩÏãú Î¨∏Ï†ú
- Î∂ÄÎ∂Ñ URIÎßåÏúºÎ°úÎäî Ï†ïÌôïÌïú ÏÑúÎ≤Ñ ÏãùÎ≥Ñ Î∂àÍ∞Ä
- Host Ìó§Îçî ÏùòÏ°¥ÏÑ±
- Î™ÖÏãúÏ†Å ÌîÑÎùΩÏãúÏôÄ Ïù∏ÌÑ∞ÏÖâÌä∏ ÌîÑÎùΩÏãúÏùò Ï∞®Ïù¥

Ìï¥Í≤∞ Î∞©Î≤ï:
1. Ìï≠ÏÉÅ Host Ìó§Îçî Ìè¨Ìï®
2. ÏôÑÏ†ÑÌïú URI ÏÇ¨Ïö©
3. ÌîÑÎùΩÏãúÏóêÏÑú Host Ìó§Îçî Î≥µÍµ¨

### Ïù∏ÌÑ∞ÏÖâÌä∏ ÌîÑÎùΩÏãúÎ•º Ïù¥Ïö©Ìïú URI Î∂ÑÏÑù
Ìà¨Î™Ö ÌîÑÎùΩÏãúÏùò URI Î≥µÍµ¨ Ï†ÑÎûµ

1. **Host Ìó§Îçî ÌôïÏù∏**
   ```http
   GET /path HTTP/1.1
   Host: www.example.com
   ‚Üí http://www.example.com/path
   ```

2. **Ïó≠Î∞©Ìñ• DNS**
   - Ïõê ÏÑúÎ≤Ñ IPÎ•º Ìò∏Ïä§Ìä∏Î™ÖÏúºÎ°ú Î≥ÄÌôò
   - Ïã†Î¢∞ÏÑ± Î¨∏Ï†ú Ï°¥Ïû¨

3. **Ïù∏ÌÑ∞ÏÖâÌä∏ ÌîÑÎùΩÏãúÍ∞Ä Í∞ÄÎ°úÏ±à Ìä∏ÎûòÌîΩ Î∂ÑÏÑù**
   - ÏõêÎûò Î™©Ï†ÅÏßÄ IP/Ìè¨Ìä∏ ÌôïÏù∏

### URI ÏûêÎèôÏôÑÏÑ±Í≥º Ìò∏Ïä§Ìä∏Î™Ö Ï∂îÎ°†
Î∏åÎùºÏö∞Ï†ÄÏùò URI ÏûêÎèôÏôÑÏÑ± Í∏∞Îä•:
- "example" ‚Üí "http://www.example.com"
- ÌîÑÎùΩÏãú Ï°¥Ïû¨ Ïãú ÎèôÏûë Ï∞®Ïù¥

### ÌîÑÎùΩÏãúÍ∞Ä ÏóÜÎäî URI Î∂ÑÏÑù
ÌîÑÎùΩÏãú ÏóÜÏù¥ Î∂ÄÎ∂Ñ URI Ï≤òÎ¶¨:
1. Î™ÖÏãúÏ†Å Ìè¨Ìä∏Í∞Ä ÏûàÎäî Í≤ΩÏö∞ ÏÇ¨Ïö©
2. Host Ìó§Îçî ÌôïÏù∏
3. Ïó≠Î∞©Ìñ• DNS Ï°∞Ìöå

## 6.6 Î©îÏãúÏßÄ Ï∂îÏ†Å

### Via Ìó§Îçî
ÌîÑÎùΩÏãú Í≤ΩÎ°ú Ï∂îÏ†Å:
```http
Via: 1.1 proxy1.com, 1.0 proxy2.com:8080
```

Via Ìó§Îçî Íµ¨ÏÑ±:
- ÌîÑÎ°úÌÜ†ÏΩú Î≤ÑÏ†Ñ
- ÌîÑÎùΩÏãú Ìò∏Ïä§Ìä∏Î™Ö
- ÏÑ†ÌÉùÏ†Å Ìè¨Ìä∏ Î≤àÌò∏
- ÏÑ†ÌÉùÏ†Å ÏΩîÎ©òÌä∏

### ViaÏùò Ïö©ÎèÑ
1. **Î©îÏãúÏßÄ Î£®ÌîÑ Í∞êÏßÄ**
   - ÏàúÌôò Ï∞∏Ï°∞ Î∞©ÏßÄ
   - Î¨¥Ìïú Î£®ÌîÑ Ï∞®Îã®

2. **ÌîÑÎùΩÏãú Ï≤¥Ïù∏ ÏßÑÎã®**
   - Î©îÏãúÏßÄ Í≤ΩÎ°ú Ï∂îÏ†Å
   - Î¨∏Ï†ú Î∞úÏÉù ÏßÄÏ†ê ÏãùÎ≥Ñ

3. **ÌîÑÎ°úÌÜ†ÏΩú Îä•Î†• Í¥ëÍ≥†**
   - Í∞Å ÌîÑÎùΩÏãúÏùò HTTP Î≤ÑÏ†Ñ ÌëúÏãú
   - Í∏∞Îä• ÌòëÏÉÅ

### Via Î¨∏Î≤ï
```
Via = "Via" ":" 1#( received-protocol received-by [comment] )
received-protocol = [protocol-name "/"] protocol-version
received-by = host [":" port]
```

ÏòàÏãú:
```http
Via: 1.0 ricky, 1.1 ethel, 1.1 fred
Via: HTTP/1.0 proxy1 (Squid/3.1)
```

### Via Ìó§ÎçîÏôÄ Í≤åÏù¥Ìä∏Ïõ®Ïù¥
ÌîÑÎ°úÌÜ†ÏΩú Î≥ÄÌôò ÌëúÏãú
```http
Via: FTP/1.0 ftp-gw.com (FTP Gateway), HTTP/1.1 proxy.com
```

### Server ÏùëÎãµ Ìó§Îçî
Ïõê ÏÑúÎ≤Ñ ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ Ï†ïÎ≥¥
```http
Server: Apache/2.4.41 (Ubuntu)
```

ÌîÑÎùΩÏãúÎäî Server Ìó§ÎçîÎ•º ÏàòÏ†ïÌïòÏßÄ ÏïäÏïÑÏïº Ìï®.

### TRACE Î©îÏÑúÎìú
ÏöîÏ≤≠ Í≤ΩÎ°ú ÏßÑÎã®

ÏöîÏ≤≠:
```http
TRACE / HTTP/1.1
Host: www.example.com
Max-Forwards: 3
```

ÏùëÎãµ:
```http
HTTP/1.1 200 OK
Content-Type: message/http

TRACE / HTTP/1.1
Host: www.example.com
Via: 1.1 proxy1.com, 1.1 proxy2.com
```

### Max-Forwards
TRACE/OPTIONS ÏöîÏ≤≠Ïùò Ìôâ Ïàò Ï†úÌïú
- Í∞Å ÌîÑÎùΩÏãúÏóêÏÑú 1Ïî© Í∞êÏÜå
- 0Ïù¥ ÎêòÎ©¥ ÏöîÏ≤≠ Ï≤òÎ¶¨ Ï§ëÎã®
- Î¨¥Ìïú Î£®ÌîÑ Î∞©ÏßÄ

## 6.7 ÌîÑÎùΩÏãú Ïù∏Ï¶ù

### Ïù∏Ï¶ù Î∞©Ïãù
ÌîÑÎùΩÏãúÎäî Ï†ëÍ∑º Ï†úÏñ¥Î•º ÏúÑÌï¥ Ïù∏Ï¶ùÏùÑ ÏöîÍµ¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.

#### 407 Proxy Authorization Required
```http
HTTP/1.1 407 Proxy Authorization Required
Proxy-Authenticate: Basic realm="Corporate Proxy"
```

#### ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏùëÎãµ
```http
GET http://www.example.com/ HTTP/1.1
Proxy-Authorization: Basic dXNlcjpwYXNzd29yZA==
```

### ÌîÑÎùΩÏãú Ïù∏Ï¶ù vs Ïõπ ÏÑúÎ≤Ñ Ïù∏Ï¶ù
| Íµ¨Î∂Ñ | ÌîÑÎùΩÏãú Ïù∏Ï¶ù | ÏÑúÎ≤Ñ Ïù∏Ï¶ù |
|------|------------|-----------|
| ÏÉÅÌÉú ÏΩîÎìú | 407 | 401 |
| ÏöîÏ≤≠ Ìó§Îçî | Proxy-Authorization | Authorization |
| ÏùëÎãµ Ìó§Îçî | Proxy-Authenticate | WWW-Authenticate |

### Ïù∏Ï¶ù Ï≤¥Í≥Ñ
- **Basic**: Base64 Ïù∏ÏΩîÎî© (Î≥¥Ïïà Ï∑®ÏïΩ)
- **Digest**: MD5 Ìï¥Ïãú ÏÇ¨Ïö©
- **NTLM**: Windows ÌôòÍ≤Ω
- **Negotiate**: Kerberos/NTLM ÏûêÎèô ÏÑ†ÌÉù

## 6.8 ÌîÑÎùΩÏãú ÏÉÅÌò∏Ïö¥Ïö©ÏÑ±

### ÏßÄÏõêÌïòÏßÄ ÏïäÎäî Ìó§ÎçîÏôÄ Î©îÏÑúÎìú Ï≤òÎ¶¨

#### OPTIONS Î©îÏÑúÎìú
ÌîÑÎùΩÏãú Îä•Î†• ÌôïÏù∏:
```http
OPTIONS * HTTP/1.1
Allow: GET, HEAD, POST, OPTIONS, TRACE
```

#### Ïïå Ïàò ÏóÜÎäî Ìó§Îçî Ï≤òÎ¶¨
- Ï†ÑÎã¨: Î™®Î•¥Îäî Ìó§ÎçîÎäî Í∑∏ÎåÄÎ°ú ÌÜµÍ≥º
- Ï†úÍ±∞ÌïòÏßÄ ÏïäÏùå: End-to-end Ìó§Îçî Î≥¥Ï°¥
- Hop-by-hop Ìó§ÎçîÎßå Ï†úÍ±∞

### Ìó§Îçî Î∂ÑÎ•ò

#### End-to-end Ìó§Îçî
ÏµúÏ¢Ö Î™©Ï†ÅÏßÄÍπåÏßÄ Ï†ÑÎã¨ÎêòÏñ¥Ïïº ÌïòÎäî Ìó§Îçî:
- Cache-Control
- Date
- Content-Type
- Authorization

#### Hop-by-hop Ìó§Îçî
Îã§Ïùå ÌôâÍπåÏßÄÎßå Ïú†Ìö®Ìïú Ìó§Îçî:
- Connection
- Keep-Alive
- Proxy-Authenticate
- Proxy-Authorization
- TE
- Transfer-Encoding
- Upgrade

Connection Ìó§ÎçîÎ°ú Î™ÖÏãú:
```http
Connection: close, My-Header
```

### ÌîÑÎùΩÏãúÏôÄ HTTP Î≤ÑÏ†Ñ
Î≤ÑÏ†Ñ Í∞Ñ Ìò∏ÌôòÏÑ± Î¨∏Ï†ú:

#### Îã§Ïö¥Í∑∏Î†àÏù¥Îìú
- HTTP/1.1 ‚Üí HTTP/1.0 Î≥ÄÌôò
- ÏßÄÏõêÌïòÏßÄ ÏïäÎäî Í∏∞Îä• Ï†úÍ±∞
- ÌïÑÏàò Ìó§Îçî Î≥ÄÌôò

#### ÏóÖÍ∑∏Î†àÏù¥Îìú Ï†úÌïú
- ÎÇÆÏùÄ Î≤ÑÏ†ÑÏúºÎ°ú Î∞õÏùÄ Î©îÏãúÏßÄÎäî ÎÜíÏùÄ Î≤ÑÏ†ÑÏúºÎ°ú Ï†ÑÎã¨ Î∂àÍ∞Ä
- ÏõêÎ≥∏ ÌîÑÎ°úÌÜ†ÏΩú Î≤ÑÏ†Ñ Ïú†ÏßÄ

### ÏßÄÏÜç Ïª§ÎÑ•ÏÖò Í¥ÄÎ¶¨

#### HTTP/1.0 Keep-Alive
```http
Connection: Keep-Alive
Keep-Alive: timeout=15, max=100
```

Ï£ºÏùòÏÇ¨Ìï≠:
- Î©çÏ≤≠Ìïú ÌîÑÎùΩÏãú Î¨∏Ï†ú
- ÌôâÎ≥ÑÎ°ú Ïû¨ÌòëÏÉÅ ÌïÑÏöî

#### HTTP/1.1 ÏßÄÏÜç Ïª§ÎÑ•ÏÖò
Í∏∞Î≥∏Ï†ÅÏúºÎ°ú ÌôúÏÑ±Ìôî:
```http
Connection: close  # Î™ÖÏãúÏ†Å Ï¢ÖÎ£å
```

### ÌîÑÎùΩÏãú ÌååÏù¥ÌîÑÎùºÏù¥Îãù
Ïó¨Îü¨ ÏöîÏ≤≠ÏùÑ ÎèôÏãúÏóê Ï†ÑÏÜ°:
- ÏàúÏÑú Î≥¥Ïû• ÌïÑÏöî
- Î©±Îì±ÏÑ± ÏûàÎäî Î©îÏÑúÎìúÎßå Ïû¨ÏãúÎèÑ
- ÏóêÎü¨ Ï≤òÎ¶¨ Î≥µÏû°ÎèÑ Ï¶ùÍ∞Ä

## 6.9 Ï∂îÍ∞Ä Ï†ïÎ≥¥

### ÌîÑÎùΩÏãú Í¥ÄÎ†® RFC Î¨∏ÏÑú
- RFC 7230-7235: HTTP/1.1
- RFC 2616: HTTP/1.1 (Íµ¨ Î≤ÑÏ†Ñ)
- RFC 2617: HTTP Authentication
- RFC 3143: Transparent Proxy

### Ï£ºÏöî ÌîÑÎùΩÏãú ÏÜåÌîÑÌä∏Ïõ®Ïñ¥

#### Ïò§ÌîàÏÜåÏä§
- **Squid**: Í∞ÄÏû• ÎÑêÎ¶¨ ÏÇ¨Ïö©ÎêòÎäî Ï∫êÏã± ÌîÑÎùΩÏãú
- **HAProxy**: Í≥†ÏÑ±Îä• Î°úÎìú Î∞∏Îü∞ÏÑú
- **Nginx**: Ïõπ ÏÑúÎ≤Ñ Í≤∏ Î¶¨Î≤ÑÏä§ ÌîÑÎùΩÏãú
- **Apache Traffic Server**: Yahoo!ÏóêÏÑú Í∞úÎ∞ú

#### ÏÉÅÏö© Ï†úÌíà
- Blue Coat ProxySG
- F5 BIG-IP
- Citrix NetScaler
- Microsoft ISA Server/Forefront TMG

### ÌîÑÎùΩÏãú ÏÑ§Ï†ï Î∞è Í¥ÄÎ¶¨ ÎèÑÍµ¨
- **Proxy.pac ÏÉùÏÑ±Í∏∞**: PAC ÌååÏùº ÏûêÎèô ÏÉùÏÑ±
- **ÌîÑÎùΩÏãú Ï≤¥Ïù∏ ÎèÑÍµ¨**: ProxyChains, Proxifier
- **ÌîÑÎùΩÏãú ÌÖåÏä§Ìä∏**: curl, wgetÏùò ÌîÑÎùΩÏãú ÏòµÏÖò
- **Î™®ÎãàÌÑ∞ÎßÅ**: Cacti, MRTGÎ°ú ÌîÑÎùΩÏãú ÏÑ±Îä• Í∞êÏãú

### Î≥¥Ïïà Í≥†Î†§ÏÇ¨Ìï≠
- SSL/TLS Ïù∏ÌÑ∞ÏÖâÏÖò Î¨∏Ï†ú
- Ï§ëÍ∞ÑÏûê Í≥µÍ≤©(MITM) ÏúÑÌóò
- Î°úÍ∑∏ ÌîÑÎùºÏù¥Î≤ÑÏãú
- Ïù∏Ï¶ù Ï†ïÎ≥¥ Î≥¥Ìò∏

### ÏÑ±Îä• ÏµúÏ†ÅÌôî
- Ï∫êÏãú ÌÅ¨Í∏∞ Ï°∞Ï†ï
- Î©îÎ™®Î¶¨ Ï∫êÏãú vs ÎîîÏä§ÌÅ¨ Ï∫êÏãú
- Ïª§ÎÑ•ÏÖò ÌíÄ Í¥ÄÎ¶¨
- DNS Ï∫êÏã±
- TCP ÌäúÎãù

---

# ÌîÑÎ°†Ìä∏ÏóîÎìú Í∞úÎ∞úÏûêÎ•º ÏúÑÌïú Ï∂îÍ∞Ä ÎÇ¥Ïö©: ÌîÑÎ°ùÏãú

## ÌîÑÎ°†Ìä∏ÏóîÎìú Í∞úÎ∞úÏóêÏÑúÏùò ÌîÑÎ°ùÏãú ÌôúÏö©

### ViteÏùò ÌîÑÎ°ùÏãú ÏÑ§Ï†ï

ViteÎäî Í∞úÎ∞ú Ï§ë API ÏÑúÎ≤ÑÏôÄÏùò ÌÜµÏã†ÏùÑ ÏúÑÌï¥ Í∞ïÎ†•Ìïú ÌîÑÎ°ùÏãú Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.

#### Í∏∞Î≥∏ ÌîÑÎ°ùÏãú ÏÑ§Ï†ï
```javascript
// vite.config.js
export default {
  server: {
    proxy: {
      // Î¨∏ÏûêÏó¥ Îã®Ï∂ï Î¨∏Î≤ï
      '/api': 'http://localhost:4000',
      
      // ÏòµÏÖò Í∞ùÏ≤¥ ÏÇ¨Ïö©
      '/api': {
        target: 'http://localhost:4000',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
        
        // WebSocket ÌîÑÎ°ùÏãú
        ws: true,
        
        // Î≥¥Ïïà ÏÑ§Ï†ï
        secure: false, // ÏûêÏ≤¥ ÏÑúÎ™Ö Ïù∏Ï¶ùÏÑú ÌóàÏö©
        
        // Ïª§Ïä§ÌÖÄ ÌîÑÎ°ùÏãú Ïù¥Î≤§Ìä∏
        configure: (proxy, options) => {
          proxy.on('error', (err, req, res) => {
            console.log('proxy error', err);
          });
          proxy.on('proxyReq', (proxyReq, req, res) => {
            console.log('Sending Request:', req.method, req.url);
          });
        }
      }
    }
  }
}
```

#### Îã§Ï§ë Î∞±ÏóîÎìú ÌîÑÎ°ùÏãú
ÎßàÏù¥ÌÅ¨Î°úÏÑúÎπÑÏä§ ÏïÑÌÇ§ÌÖçÏ≤òÏóêÏÑú Ïó¨Îü¨ Î∞±ÏóîÎìú ÏÑúÎ≤Ñ Ïó∞Í≤∞

```javascript
// vite.config.js
export default {
  server: {
    proxy: {
      '/api/auth': {
        target: 'http://auth-service:3001',
        changeOrigin: true
      },
      '/api/users': {
        target: 'http://user-service:3002',
        changeOrigin: true
      },
      '/api/products': {
        target: 'http://product-service:3003',
        changeOrigin: true
      },
      // GraphQL ÏóîÎìúÌè¨Ïù∏Ìä∏
      '/graphql': {
        target: 'http://graphql-server:4000',
        changeOrigin: true,
        ws: true // Subscriptions ÏßÄÏõê
      }
    }
  }
}
```

### Webpack Dev Server ÌîÑÎ°ùÏãú

```javascript
// webpack.config.js
module.exports = {
  devServer: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        pathRewrite: {'^/api': ''},
        
        // ÏöîÏ≤≠ Ìó§Îçî ÏàòÏ†ï
        headers: {
          'X-Dev-Proxy': 'webpack-dev-server'
        },
        
        // ÏùëÎãµ Í∞ÄÎ°úÏ±ÑÍ∏∞
        onProxyRes: function(proxyRes, req, res) {
          proxyRes.headers['x-added-header'] = 'foobar';
        },
        
        // ÏöîÏ≤≠ ÌïÑÌÑ∞ÎßÅ
        bypass: function(req, res, proxyOptions) {
          if (req.headers.accept.indexOf('html') !== -1) {
            return '/index.html';
          }
        }
      }
    }
  }
};
```

### ÌîÑÎ°†Ìä∏ÏóîÎìú ÌîÑÎ°ùÏãú Ìå®ÌÑ¥

#### 1. API Gateway Ìå®ÌÑ¥
Îã®Ïùº ÏßÑÏûÖÏ†êÏùÑ ÌÜµÌïú ÎßàÏù¥ÌÅ¨Î°úÏÑúÎπÑÏä§ Ï†ëÍ∑º:

```javascript
// api-gateway-proxy.js
const proxy = {
  '/api/*': {
    target: 'http://api-gateway:8080',
    changeOrigin: true,
    
    // JWT ÌÜ†ÌÅ∞ ÏûêÎèô Ï∂îÍ∞Ä
    onProxyReq: (proxyReq, req) => {
      const token = getAuthToken();
      if (token) {
        proxyReq.setHeader('Authorization', `Bearer ${token}`);
      }
    }
  }
};
```

#### 2. Mock ÏÑúÎ≤Ñ ÌîÑÎ°ùÏãú
Í∞úÎ∞ú Ï§ë Ïã§Ï†ú APIÏôÄ Mock API Ï†ÑÌôò:

```javascript
// vite.config.js
const USE_MOCK = process.env.VITE_USE_MOCK === 'true';

export default {
  server: {
    proxy: {
      '/api': {
        target: USE_MOCK 
          ? 'http://localhost:3001'  // Mock ÏÑúÎ≤Ñ
          : 'https://api.production.com', // Ïã§Ï†ú API
        changeOrigin: true,
        
        // Mock Î™®ÎìúÏóêÏÑú ÏßÄÏó∞ ÏãúÎÆ¨Î†àÏù¥ÏÖò
        configure: (proxy) => {
          if (USE_MOCK) {
            proxy.on('proxyReq', (proxyReq) => {
              setTimeout(() => {
                proxyReq.end();
              }, Math.random() * 1000); // 0-1Ï¥à ÎûúÎç§ ÏßÄÏó∞
            });
          }
        }
      }
    }
  }
}
```

#### 3. Authentication Proxy
Ïù∏Ï¶ù Ï≤òÎ¶¨Î•º ÏúÑÌïú ÌîÑÎ°ùÏãú Ìå®ÌÑ¥:

```javascript
// auth-proxy.js
export const authProxy = {
  '/api': {
    target: process.env.API_URL,
    changeOrigin: true,
    
    // Ïø†ÌÇ§ Í∏∞Î∞ò Ïù∏Ï¶ù
    cookieDomainRewrite: 'localhost',
    cookiePathRewrite: '/',
    
    onProxyReq: (proxyReq, req) => {
      // CSRF ÌÜ†ÌÅ∞ Ï≤òÎ¶¨
      const csrfToken = req.cookies['csrf-token'];
      if (csrfToken) {
        proxyReq.setHeader('X-CSRF-Token', csrfToken);
      }
    },
    
    onProxyRes: (proxyRes, req, res) => {
      // Ïù∏Ï¶ù Ïã§Ìå® Ïãú Î¶¨Îã§Ïù¥Î†âÌä∏
      if (proxyRes.statusCode === 401) {
        res.redirect('/login');
      }
    }
  }
};
```

### CORS Î¨∏Ï†ú Ìï¥Í≤∞

#### Í∞úÎ∞ú ÌôòÍ≤Ω CORS Ïö∞Ìöå
```javascript
// vite.config.js
export default {
  server: {
    proxy: {
      '/external-api': {
        target: 'https://external-api.com',
        changeOrigin: true, // Origin Ìó§Îçî Î≥ÄÍ≤Ω
        rewrite: (path) => path.replace(/^\/external-api/, '/v1'),
        
        // Ï∂îÍ∞Ä Ìó§Îçî ÏÑ§Ï†ï
        headers: {
          'Origin': 'https://external-api.com',
          'Referer': 'https://external-api.com'
        }
      }
    }
  }
}
```

#### ÌîÑÎ°úÎçïÏÖò ÌôòÍ≤Ω Î¶¨Î≤ÑÏä§ ÌîÑÎ°ùÏãú
NginxÎ•º ÏÇ¨Ïö©Ìïú CORS Ìï¥Í≤∞

```nginx
# nginx.conf
server {
    listen 80;
    server_name app.example.com;
    
    # ÌîÑÎ°†Ìä∏ÏóîÎìú Ï†ïÏ†Å ÌååÏùº
    location / {
        root /usr/share/nginx/html;
        try_files $uri $uri/ /index.html;
    }
    
    # API ÌîÑÎ°ùÏãú
    location /api/ {
        proxy_pass http://backend-server:3000/;
        proxy_http_version 1.1;
        
        # CORS Ìó§Îçî Ï∂îÍ∞Ä
        add_header Access-Control-Allow-Origin $http_origin always;
        add_header Access-Control-Allow-Credentials true always;
        
        # ÌîÑÎ°ùÏãú Ìó§Îçî ÏÑ§Ï†ï
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # WebSocket ÏßÄÏõê
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
```

### ÏÑ±Îä• ÏµúÏ†ÅÌôîÎ•º ÏúÑÌïú ÌîÑÎ°ùÏãú ÌôúÏö©

#### 1. Ï∫êÏã± ÌîÑÎ°ùÏãú
ÏûêÏ£º ÏöîÏ≤≠ÎêòÎäî API ÏùëÎãµ Ï∫êÏã±

```javascript
// cache-proxy.js
const cache = new Map();

export const cachingProxy = {
  '/api/static-data': {
    target: 'http://api-server:3000',
    
    bypass: (req, res) => {
      const cacheKey = req.url;
      const cached = cache.get(cacheKey);
      
      if (cached && Date.now() - cached.time < 60000) { // 1Î∂Ñ Ï∫êÏãú
        res.setHeader('X-Cache', 'HIT');
        res.json(cached.data);
        return true; // ÌîÑÎ°ùÏãú Ïö∞Ìöå
      }
      return false;
    },
    
    onProxyRes: (proxyRes, req) => {
      let body = '';
      proxyRes.on('data', chunk => body += chunk);
      proxyRes.on('end', () => {
        cache.set(req.url, {
          data: JSON.parse(body),
          time: Date.now()
        });
      });
    }
  }
};
```

#### 2. ÏïïÏ∂ï ÌîÑÎ°ùÏãú
ÏùëÎãµ Îç∞Ïù¥ÌÑ∞ ÏûêÎèô ÏïïÏ∂ï:

```javascript
// compression-proxy.js
import compression from 'compression';

export const compressionProxy = {
  '/api': {
    target: 'http://backend:3000',
    
    onProxyRes: (proxyRes, req, res) => {
      // Brotli ÏïïÏ∂ï Ï†ÅÏö©
      if (!proxyRes.headers['content-encoding']) {
        compression({
          filter: () => true,
          brotli: { enabled: true }
        })(req, res, () => {});
      }
    }
  }
};
```

#### 3. ÏöîÏ≤≠ Î≥ëÌï© ÌîÑÎ°ùÏãú
Ïó¨Îü¨ API ÏöîÏ≤≠ÏùÑ ÌïòÎÇòÎ°ú Î≥ëÌï©:

```javascript
// batch-proxy.js
export const batchProxy = {
  '/api/batch': {
    bypass: async (req, res) => {
      if (req.method === 'POST') {
        const { requests } = req.body;
        
        const results = await Promise.all(
          requests.map(r => 
            fetch(`http://backend:3000${r.path}`, {
              method: r.method,
              body: JSON.stringify(r.body)
            }).then(res => res.json())
          )
        );
        
        res.json({ results });
        return true;
      }
    }
  }
};
```

### ÎîîÎ≤ÑÍπÖÍ≥º Î™®ÎãàÌÑ∞ÎßÅ

#### HTTP Ìä∏ÎûòÌîΩ Î°úÍπÖ
```javascript
// vite.config.js
export default {
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        
        configure: (proxy) => {
          // ÏöîÏ≤≠ Î°úÍπÖ
          proxy.on('proxyReq', (proxyReq, req) => {
            console.log('üîµ Request:', {
              method: req.method,
              url: req.url,
              headers: req.headers
            });
          });
          
          // ÏùëÎãµ Î°úÍπÖ
          proxy.on('proxyRes', (proxyRes, req) => {
            console.log('üü¢ Response:', {
              status: proxyRes.statusCode,
              headers: proxyRes.headers
            });
          });
          
          // ÏóêÎü¨ Î°úÍπÖ
          proxy.on('error', (err, req, res) => {
            console.error('üî¥ Proxy Error:', err);
            res.writeHead(500, {
              'Content-Type': 'application/json'
            });
            res.end(JSON.stringify({
              error: 'Proxy Error',
              message: err.message
            }));
          });
        }
      }
    }
  }
}
```

#### ÌîÑÎ°ùÏãú Î©îÌä∏Î¶≠ ÏàòÏßë
```javascript
// proxy-metrics.js
const metrics = {
  requests: 0,
  errors: 0,
  latency: []
};

export const metricsProxy = {
  '/api': {
    target: 'http://backend:3000',
    
    configure: (proxy) => {
      proxy.on('proxyReq', (proxyReq, req) => {
        req.startTime = Date.now();
        metrics.requests++;
      });
      
      proxy.on('proxyRes', (proxyRes, req) => {
        const duration = Date.now() - req.startTime;
        metrics.latency.push(duration);
        
        // Prometheus ÌòïÏãùÏúºÎ°ú Î©îÌä∏Î¶≠ ÎÖ∏Ï∂ú
        if (req.url === '/metrics') {
          res.write(`api_requests_total ${metrics.requests}\n`);
          res.write(`api_errors_total ${metrics.errors}\n`);
          res.write(`api_latency_ms ${average(metrics.latency)}\n`);
        }
      });
    }
  }
};
```

### Î≥¥Ïïà Í≥†Î†§ÏÇ¨Ìï≠

#### ÌîÑÎ°ùÏãúÎ•º ÌÜµÌïú Î≥¥Ïïà Í∞ïÌôî
```javascript
// security-proxy.js
export const securityProxy = {
  '/api': {
    target: process.env.API_URL,
    changeOrigin: true,
    
    // Rate Limiting
    onProxyReq: (() => {
      const requestCounts = new Map();
      
      return (proxyReq, req) => {
        const ip = req.ip;
        const count = requestCounts.get(ip) || 0;
        
        if (count > 100) { // Î∂ÑÎãπ 100 ÏöîÏ≤≠ Ï†úÌïú
          throw new Error('Rate limit exceeded');
        }
        
        requestCounts.set(ip, count + 1);
        setTimeout(() => requestCounts.delete(ip), 60000);
        
        // XSS Î∞©ÏßÄ Ìó§Îçî
        proxyReq.setHeader('X-XSS-Protection', '1; mode=block');
        proxyReq.setHeader('X-Content-Type-Options', 'nosniff');
      };
    })()
  }
};
```